{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { FaTimes, FaLongArrowAltRight } from 'react-icons/fa';\nimport { SiteContext, ContextProviderComponent } from '../context/mainContext';\nimport DENOMINATION from '../utils/currencyProvider';\nimport { slugify } from '../utils/helpers';\nimport QuantityPicker from '../components/QuantityPicker';\nimport Image from '../components/Image';\nimport Head from 'next/head';\nimport CartLink from '../components/CartLink';\n\nconst Cart = ({\n  context\n}) => {\n  const {\n    0: renderClientSideComponent,\n    1: setRenderClientSideComponent\n  } = useState(false);\n  useEffect(() => {\n    setRenderClientSideComponent(true);\n  }, []);\n  const {\n    numberOfItemsInCart,\n    cart,\n    removeFromCart,\n    total,\n    setItemQuantity\n  } = context;\n  const cartEmpty = numberOfItemsInCart === Number(0);\n\n  function increment(item) {\n    item.quantity = item.quantity + 1;\n    setItemQuantity(item);\n  }\n\n  function decrement(item) {\n    if (item.quantity === 1) return;\n    item.quantity = item.quantity - 1;\n    setItemQuantity(item);\n  }\n\n  if (!renderClientSideComponent) return null;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(CartLink, {}), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"flex flex-col items-center pb-10\",\n      children: [/*#__PURE__*/_jsxs(Head, {\n        children: [/*#__PURE__*/_jsx(\"title\", {\n          children: \"Jamstack ECommerce - Cart\"\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          name: \"description\",\n          content: `Jamstack ECommerce - Shopping cart`\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          property: \"og:title\",\n          content: \"Jamstack ECommerce - Cart\"\n        }, \"title\")]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \" flex flex-col w-full c_large:w-c_large \",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"pt-10 pb-8\",\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            className: \"text-5xl font-light\",\n            children: \"Your Cart\"\n          })\n        }), cartEmpty ? /*#__PURE__*/_jsx(\"h3\", {\n          children: \"No items in cart.\"\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: \"flex flex-col\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            children: cart.map(item => {\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: \"border-b py-10\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex items-center hidden md:flex\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: `/product/${slugify(item.name)}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      \"aria-label\": item.name,\n                      children: /*#__PURE__*/_jsx(Image, {\n                        className: \"w-32 m-0\",\n                        src: item.image,\n                        alt: item.name\n                      })\n                    })\n                  }), /*#__PURE__*/_jsx(Link, {\n                    href: `/product/${slugify(item.name)}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      \"aria-label\": item.name,\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \" m-0 pl-10 text-gray-600 w-60 \",\n                        children: item.name\n                      })\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"ml-4\",\n                    children: /*#__PURE__*/_jsx(QuantityPicker, {\n                      numberOfitems: item.quantity,\n                      increment: () => increment(item),\n                      decrement: () => decrement(item)\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"flex flex-1 justify-end\",\n                    children: /*#__PURE__*/_jsx(\"p\", {\n                      className: \"m-0 pl-10 text-gray-900 tracking-wider\",\n                      children: DENOMINATION + item.price\n                    })\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    role: \"button\",\n                    onClick: () => removeFromCart(item),\n                    className: \" m-0 ml-10 text-gray-900 text-s cursor-pointer \",\n                    children: /*#__PURE__*/_jsx(FaTimes, {})\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"flex items-center flex md:hidden\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: `/product/${slugify(item.name)}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      children: /*#__PURE__*/_jsx(Image, {\n                        className: \"w-32 m-0\",\n                        src: item.image,\n                        alt: item.name\n                      })\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    children: [/*#__PURE__*/_jsx(Link, {\n                      href: `/product/${slugify(item.name)}`,\n                      children: /*#__PURE__*/_jsx(\"a\", {\n                        \"aria-label\": item.name,\n                        children: /*#__PURE__*/_jsx(\"p\", {\n                          className: \" m-0 pl-6 text-gray-600 text-base \",\n                          children: item.name\n                        })\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"ml-6 mt-4 mb-2\",\n                      children: /*#__PURE__*/_jsx(QuantityPicker, {\n                        hideQuantityLabel: true,\n                        numberOfitems: item.quantity,\n                        increment: () => increment(item),\n                        decrement: () => decrement(item)\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"flex flex-1\",\n                      children: /*#__PURE__*/_jsx(\"p\", {\n                        className: \"text-lg m-0 pl-6 pt-4 text-gray-900 tracking-wider\",\n                        children: DENOMINATION + item.price\n                      })\n                    })]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    role: \"button\",\n                    onClick: () => removeFromCart(item),\n                    className: \" m-0 ml-10 text-gray-900 text-s cursor-pointer mr-2 \",\n                    children: /*#__PURE__*/_jsx(FaTimes, {})\n                  })]\n                })]\n              }, item.id);\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"flex flex-1 justify-end py-8\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"text-sm pr-10\",\n            children: \"Total\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"font-semibold tracking-wide\",\n            children: DENOMINATION + total\n          })]\n        }), !cartEmpty && /*#__PURE__*/_jsx(Link, {\n          href: \"/checkout\",\n          className: \"flex flex-1 justify-end\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            \"aria-label\": \"Check out\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"cursor-pointer flex items-center\",\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: \"text-gray-600 text-sm mr-2\",\n                children: \"Proceed to check out\"\n              }), /*#__PURE__*/_jsx(FaLongArrowAltRight, {\n                className: \"text-gray-600\"\n              })]\n            })\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nfunction CartWithContext(props) {\n  return /*#__PURE__*/_jsx(ContextProviderComponent, {\n    children: /*#__PURE__*/_jsx(SiteContext.Consumer, {\n      children: context => /*#__PURE__*/_jsx(Cart, _objectSpread(_objectSpread({}, props), {}, {\n        context: context\n      }))\n    })\n  });\n}\n\nexport default CartWithContext;","map":null,"metadata":{},"sourceType":"module"}